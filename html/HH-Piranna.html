<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />

<script src="html5.js"></script><!-- this is the javascript allowing html5 to run in older browsers -->

<title>UNHOSTED - Freedom from web 2.0's monopoly platforms</title>
<link rel="stylesheet" href="css/uncompressed/reset.css" />
<link rel="stylesheet" href="css/uncompressed/text.css" />
<link rel="stylesheet" href="css/uncompressed/960.css" />
<link rel="stylesheet" href="css/uncompressed/960.css" />
<link rel="stylesheet" href="general.css" />
<link rel="stylesheet" href="css/uncompressed/layout.css" />
</head>
	<body>
		<div class="preload"></div>
		<div class="preload2"></div>
		<header>
			<div class="container_12">
				<div id="title" class="grid_6">
					<h1>Unhosted</h1>
					<h2>Freedom from web 2.0's monopoly platforms</h2>
					<p>
						<strong>Unhosted is a project for strengthening free software against hosted software</strong>. With our protocol, a website is only source code. Dynamic data is encrypted and decentralised, to per-user storage nodes. This benefits <strong>free software</strong>, as well as <strong>scalability</strong>, <strong>robustness</strong>, and <strong>online privacy</strong>.
					</p>
					<a class="button download" href="developers.html">Developers</a>
					<a class="button manifesto" href="manifesto.html">Read the manifesto</a>
				</div>
				<div id="island" class="grid_6"><figure></figure></div>
			</div>
		</header>

<table><tr><td align="center"><p><table width="80%"><tr><td><p>

<h2>Hacky Holidays Entry: Piranna's <a href="HH2010/Piranna.zip">vCards app</a> and API/protocol improvements</h2>
As promised... here your have my (in)famous VCards application with
the access control improvements for the protocol. I haven't been able
to test the latest improvements, but since almost all of them have
been code cleanup they should work.
Well, let's go. The webapp is split in four pages and five javascript files:
<ul>
<li> editor, that it's the editor of your own personal VCard and where
you define your key-value pairs at the antipod (in this example the
VCard data).
<li> webapps, where you define the webapps that has access on the
antipod. In real world they should be registed automatically when you
want to store or access data.
<li> capabilities, where you manage what webapp can access to what key-value pair.
<li> vcard, that it's the page that compose your vcard depending of what
is the webapp that want to access your data.
<li> unhosted_ac, the most important one, where live all the improvements
that i've implemented for javascript API and for the protocol like the
access control. These modifications are:

<li> get() now check if the app has access permisions to the key-value
pair and also is able to return a user defined default value instead
of null. The only thing is that i don't know if a webapp doesn't have
access to a key-value pair that it should return undefined like at
this moment or maybe throw an exception "a la" python...
<li> set() now set the capabilities automatically and now (really from
this night at 1:00AM :-P ) it take consideration about the webapp
permisions to do it, and also if the key doesn't exist not the webapp
they are created automatically.
</ul>
The other ones improvements are APPS and CAPS, that return a list of
the webapps and capabilities of the user and they are capitalized
because maybe they should be part of the protocol (in the same way
that the improvement for get() and set()), but this need to think
about a little because maybe you are showing too much sensitive data
from the keys info and also maybe it's not necesary if the access
control is fully implemented inside the antipod.

<br><br>
I have done this in javascript to be full "UJ/0.1 compliant" and not
have to modify the server side code (i don't know yet how to use
Git... :-P ) and as i have fears some e-mails before, i have broken
API compatibility to add a new parameter to say what it the webapp
that it's trying to access the data. The good part is that the "new
API" is fully orthogonal (nick, app, key, value) being really easy to
understand and to use. Future improvements that i'm thinking are to
have several types of capabilities instead a generic "access data"
(read, write, update, maybe delete if we add it to the protocol...)
and control of access to sub-data (birthday.year, address.street...).

<br><br>
Please give me your opinions and improvements about the protocol
proposals and for the VCards application itself, because it's just a
proof of concept for the protocol proposals but it's also my candidate
for the Hacky Holidays!!! :-P

<br><br>
<H2>(addition:)</H2>

Ok, maybe it's out of time here at Spain (it's 3:32AM of 2 february,
but i went to see Tron Legacy with a girlfriend :-P ) but i wanted to
share this with you in any case.

<br><br>
First point, i have decided to split mi Hacky Holidays app in two
convocatories: the vCards application itself and protocol extension
with all the (API) improvements that i have developed, like
pseudo-atomic multiset and my famous access control system.

<br><br>
Now, the interesting things. Apart from the previous improvements that
i told you, now in this release we have the more-or-less only API
improvements individualized from the access control ones, both inside
the unhosted2 folder.
But apart from that i'm happy to announce that we have a (simple)
system of subfolders/subdata implemented in UnHosted :-D Now every key
that you create with bars '/' in in they will split them and create
new keys puting theys sub-keys as their value, so in this way you can
achieve sub-data access control that it's what i was looking for.
Finally, one thing that it's not related with UnHosted but a trick
that i have thinking about and that it's useful: at js/vcards.js i
have developed a function (based on some code from internet to know
how to do it) that get the query of the url from javascript with it.
Just a function executed from body.onload et voila! vCards dinamically
generated by the parameters of the url without need of a server:
dinamic generated content fully client side :-D I haven't get it to
work in a REST way but with index.html it's almost there... :-D

<br><br>
Now, the future improvements will be to change the access control
checking from a list of mask to a list of keys (thanks to
Tannenbaum... :-P ) breaking the current limit to 32 user apps and
allowing it to be faster, use less bandwidth and to a lot more secure
(you will get only the keys that you have some capability, not the
full list of apps and/or keys) and a system to allow user defined
public (no autentification required) data access.

<br><br>
P.D.: screenshots included ;-)

<br><br>
<a href="/HackyHolidays.html">[back]</a>
</p></td></tr></table></p></td></tr></table>

		<div class="clear"></div>
		<footer>
		 <div class="container_12">
				<div id="twitter">
					<a href="http://twitter.com/unhosted" target="_blank" id="icon">Follow us! @Unhosted on Twitter</a>
					<h4>Follow us on <a href="http://identi.ca/unhosted" target="_blank">identi.ca</a> or 
					<a href="http://twitter.com/unhosted" target="_blank" id="twittitle">twitter</a>
						<span>@Unhosted</span>
					</h4>
					
					<ul id="twitter_update_list"></ul>
					      <script type="text/javascript" src="http://twitter.com/javascripts/blogger.js"></script>
					      <script type="text/javascript" src="http://twitter.com/statuses/user_timeline/unhosted.json?callback=twitterCallback2&amp;count=1"></script>
					
				</div>
				<div id="participate">
					<div class="icon"></div>	
					<h4>Participate</h4>
					<p>Unhosted is an <strong>open source</strong> project, and entirely altruistic. <strong>If you want to help, please join</strong> <a href="http://groups.google.com/group/unhosted" target="_blank">the mailing list</a>, and open a thread about what you think should happen next.</p>
				</div>
		</footer>
		
	</body>
</html>
